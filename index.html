<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>FrameGen</title>
    <link rel="stylesheet" href="css/style.css">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="FrameGen">
    <meta property="og:description" content="FrameGen is a versatile and user-friendly tool designed to elevate your profile pictures to the next level. With an intuitive interface, it empowers users to effortlessly create custom frames tailored to their preferences. Whether you're looking to add a touch of elegance, express your personality, or commemorate special occasions, FrameGen offers a wide range of stylish templates to suit every need. Elevate your online presence and make a lasting impression with FrameGen's seamless frame generation capabilities.">
    <!-- <meta property="og:image" content=""> -->
    <meta property="og:image" content="https://raw.githubusercontent.com/MRzenki/FrameGen/main/output/baby.png">
    <meta property="og:url" content="https://mrzenki.github.io/FrameGen/">
    <meta property="og:type" content="website">
</head>
<body>
    <header id="header">
        <h1>
            <span class="red">Frame</span><span class="green">Gen</span> 
        </h1>
    </header>

    <form id="frameForm">


        <div class="input-group">
            <label for="frame">Select frame:</label>
            <select id="frame">
                <option value="frame1.png">Single & Blessed</option>
                <option value="frame2.png">Waiting for God's Will</option>
                <option value="frame3.png">Faithfully Committed</option>
                <option value="frame4.png">Moving Forward</option>
                <option value="frame5.png">It's Complicated</option> 
                <option value="frame6.png">Study First</option> 
                <option value="frame7.png">Blessed</option> 
                <option value="frame8.png">In Love</option> 
                <!-- Add more frames as needed -->
            </select>
        </div>
        
        <div id="preview">
            <img id="user_image_preview">
            <img id="frame_preview">
            <!-- Move the canvas here -->
            <canvas id="canvasId" style="visibility: hidden; border: 1px solid black;"></canvas>
        </div>

        
        <div class="input-group" id="upload_button">
            <!-- Upload your image: -->
            <label for="user_image" class="custom-file-upload">
                <img src="img/camera-icon.png" alt="Upload">
                <span class="upload-text">Choose a photo</span>
            </label>
            <input type="file" id="user_image" style="display: none;">
        </div>
    </form>


    <footer shine>
        <p>Copyright Â© 2024 Microdrgz. All rights reserved. Exclusive for LJCCC.</p>
    </footer>

    <script>
        var header = document.getElementById('header');
        var frameSelect = document.getElementById('frame');
        var timer;
        var newFrameAdded = false; // Add this line

        function startTimer() {
            timer = setTimeout(function() {
                if (!newFrameAdded) { // Add this line
                    var newOption = document.createElement('option');
                    newOption.value = 'baby.png';
                    newOption.textContent = 'Baby Kalma';
                    frameSelect.appendChild(newOption);

                    // Preload the new frame image
                    var newFrameImage = new Image();
                    newFrameImage.src = 'img/' + newOption.value;
                    frameImages.set(newOption.value, newFrameImage);

                    alert('Congratulations! You have unlocked a new frame option.');

                    newFrameAdded = true; // Add this line
                    removeEventListeners(); // Add this line
                }
            }, 3000); // 3000 milliseconds = 3 seconds
        }

        function clearTimer() {
            clearTimeout(timer);
        }

        function removeEventListeners() { // Add this function
            header.removeEventListener('mousedown', startTimer);
            header.removeEventListener('mouseup', clearTimer);
            header.removeEventListener('touchstart', startTimer);
            header.removeEventListener('touchend', clearTimer);
        }

        // For desktop users
        header.addEventListener('mousedown', startTimer);
        header.addEventListener('mouseup', clearTimer);

        // For mobile users
        header.addEventListener('touchstart', startTimer);
        header.addEventListener('touchend', clearTimer);
    </script>


    <script src="js/mobilescript.js"></script>
    <script src="js/javascript.js"></script>
    <script>
        window.addEventListener('scroll', function() {
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
                var footer = document.querySelector('footer');
                footer.classList.remove('shine'); // Remove the class immediately
                setTimeout(function() {
                    footer.classList.add('shine'); // Add the class back after a delay
                }, 100); // Short delay to ensure the class is removed before it's added back
            }
        });


        // if ('serviceWorker' in navigator) {
        //     window.addEventListener('load', function() {
        //         navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
        //             console.log('ServiceWorker registration successful with scope: ', registration.scope);
        //         }, function(err) {
        //             console.log('ServiceWorker registration failed: ', err);
        //         });
        //     });
        // }


        
    </script>
</body>
</html>